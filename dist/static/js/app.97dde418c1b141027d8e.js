webpackJsonp([1],Array(36).concat([function(t,e,n){"use strict";var a=n(2),r=n(138),o=n(124),i=n.n(o),s=n(129),u=n.n(s),l=n(123),c=n.n(l),d=n(126),f=n.n(d);a.default.use(r.a),e.a=new r.a({mode:"history",routes:[{path:"/login",name:"Login",component:u.a},{path:"/",component:f.a,redirect:"/dashboard",children:[{path:"/dashboard",component:c.a,name:"Dashboard"},{path:"/hello",component:i.a,name:"Hello"}]}]})},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var a=n(2),r=n(199),o=n(71),i=n(70);a.default.use(r.a);var s=new r.a.Store({modules:{user:o.a},getters:i.a});e.a=s},function(t,e){},function(t,e){},function(t,e,n){var a=n(6)(n(74),n(130),null,null,null);t.exports=a.exports},function(t,e,n){"use strict";function a(t,e){var a={email:t,password:e};return n.i(o.a)({url:"/loginController/login",method:"post",params:a})}function r(){return n.i(o.a)({url:"/loginController/logout",method:"post"})}e.a=a,e.b=r;var o=n(72)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(2),r=n(67),o=n.n(r),i=n(36),s=n(37),u=n.n(s),l=n(65),c=(n.n(l),n(66)),d=(n.n(c),n(64));a.default.config.productionTip=!1,a.default.use(u.a);var f=["/login","/authredirect","/reset","/sendpwd"];i.a.beforeEach(function(t,e,n){document.title=(t.name||"")+"- vue demo",d.a.getters.token?"/login"===t.path?n({path:"/"}):n():-1!==f.indexOf(t.path)?n():n("/login")}),new a.default({el:"#app",router:i.a,store:d.a,template:"<App/>",components:{App:o.a}})},function(t,e,n){"use strict";var a={token:function(t){return t.user.token},uid:function(t){return t.user.uid},email:function(t){return t.user.email},auth_type:function(t){return t.user.auth_type},status:function(t){return t.user.status},roles:function(t){return t.user.roles}};e.a=a},function(t,e,n){"use strict";var a=n(38),r=n.n(a),o=n(68),i={state:{email:"",uid:localStorage.getItem("uid"),auth_type:"",status:"",token:localStorage.getItem("token"),roles:[]},mutations:{SET_EMAIL:function(t,e){t.email=e},SET_UID:function(t,e){t.uid=e},SET_AUTH_TYPE:function(t,e){t.auth_type=e},SET_STATUS:function(t,e){t.status=e},SET_TOKEN:function(t,e){t.token=e},SET_ROLES:function(t,e){t.roles=e}},actions:{LoginByEmail:function(t,e){var a=t.commit,i=e.email.trim();return new r.a(function(t,r){n.i(o.a)(i,e.password).then(function(e){if("10000"===e.retCode){var n=e.data;localStorage.token=n.tokenModel.adminId+"_"+n.tokenModel.token,localStorage.uid=n.adminInfo.adminId,a("SET_TOKEN",n.tokenModel.adminId+"_"+n.tokenModel.token),a("SET_EMAIL",n.adminInfo.email),a("SET_ROLES",["admin"]),a("SET_UID",n.adminInfo.adminId),t()}else r("账号或密码不正确")}).catch(function(t){r(t)})})},LogOut:function(t){var e=t.commit;return new r.a(function(t,a){n.i(o.b)().then(function(n){"10000"===n.retCode?(e("SET_TOKEN",""),e("SET_ROLES",[]),localStorage.removeItem("token"),localStorage.removeItem("uid"),t()):a("登出失败")}).catch(function(t){a(t)})})}}};e.a=i},function(t,e,n){"use strict";function a(t){return new o.a(function(e,a){s.a.create({baseURL:"http://54.223.179.63:8030/",timeout:2e4})(t).then(function(t){var r=t.data;"10000"!==r.retCode?("40600"===r.retCode||"50008"===r.retCode?(n.i(u.Message)({message:r.msg,type:"error",duration:5e3}),l.a.push({path:"/login"})):n.i(u.Message)({message:r.msg,type:"error",duration:5e3}),a(r)):e(r)}).catch(function(t){n.i(u.Message)({message:t,type:"error",duration:5e3}),a(t)})})}e.a=a;var r=n(38),o=n.n(r),i=n(162),s=n.n(i),u=n(37),l=(n.n(u),n(36))},function(t,e,n){"use strict";var a=n(127),r=n.n(a);n.d(e,"a",function(){return r.a});var o=n(128),i=n.n(o);n.d(e,"b",function(){return i.a});var s=n(125),u=n.n(s);n.d(e,"c",function(){return u.a})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"hello",data:function(){return{msg:"Welcome to Your Vue.js App"}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"AppMain",computed:{key:function(){return void 0!==this.$route.name?this.$route.name+ +new Date:this.$route+ +new Date}},methods:{scrollBottom:function(){var t=this.$refs.wrap.getElementsByClassName("container-footer")[0];t&&(t.style.bottom=-this.$refs.wrap.scrollTop+"px")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(73);e.default={name:"layout",components:{Navbar:a.a,Sidebar:a.b,AppMain:a.c}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={methods:{logout:function(){var t=this;this.$store.dispatch("LogOut").then(function(){t.$router.push({path:"/login"})}).catch(function(e){t.$message.error(e)})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"Sidebar",computed:{onRoutes:function(){return this.$route.path}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){var t=this;return{loginForm:{email:"admin@fusio.com.cn",password:"123456"},loginRules:{email:[{required:!0,trigger:"blur",validator:function(e,n,a){t.isEmail(n)?a():a(new Error("请输入正确的合法邮箱"))}}],password:[{required:!0,trigger:"blur",validator:function(t,e,n){e.length<6?n(new Error("密码不能小于6位")):n()}}]},loading:!1,showDialog:!1}},methods:{isEmail:function(t){return/^[a-z0-9](?:[-_.+]?[a-z0-9]+)*@fusio\.com\.cn$/i.test(t.trim())},handleLogin:function(){var t=this;this.$refs.loginForm.validate(function(e){if(!e)return console.error("error submit!!"),!1;t.loading=!0,t.$store.dispatch("LoginByEmail",t.loginForm).then(function(){t.loading=!1,t.$router.push({path:"/"})}).catch(function(e){t.loading=!1,t.$message.error(e)})})}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,function(t,e,n){var a=n(6)(n(75),n(137),null,null,null);t.exports=a.exports},function(t,e,n){function a(t){n(115)}var r=n(6)(n(76),n(131),a,"data-v-57cb679c",null);t.exports=r.exports},function(t,e,n){function a(t){n(119)}var r=n(6)(n(77),n(135),a,"data-v-c12d9ef0",null);t.exports=r.exports},function(t,e,n){function a(t){n(117)}var r=n(6)(n(78),n(133),a,"data-v-649b1ae8",null);t.exports=r.exports},function(t,e,n){function a(t){n(118)}var r=n(6)(n(79),n(134),a,"data-v-a6989f1c",null);t.exports=r.exports},function(t,e,n){function a(t){n(116)}var r=n(6)(n(80),n(132),a,null,null);t.exports=r.exports},function(t,e,n){function a(t){n(120)}var r=n(6)(n(81),n(136),a,null,null);t.exports=r.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("h1",[t._v(t._s(t.msg))]),t._v(" "),n("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),n("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[n("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("Core Docs")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("Forum")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://gitter.im/vuejs/vue",target:"_blank"}},[t._v("Gitter Chat")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("Twitter")])]),t._v(" "),n("br"),t._v(" "),n("li",[n("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("Docs for This Template")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[n("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[t._v("vue-router")])]),t._v(" "),n("li",[n("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[t._v("vuex")])]),t._v(" "),n("li",[n("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[t._v("vue-loader")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[t._v("awesome-vue")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"menu"},[n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.onRoutes,"unique-opened":"",router:"",theme:"dark"}},[n("el-menu-item",{attrs:{index:"/dashboard"}},[t._v("工作台")]),t._v(" "),n("el-menu-item",{attrs:{index:"/hello"}},[t._v("Hello页面")])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-wrapper"},[n("div",{staticClass:"navigator-wrapper"},[n("div",{staticClass:"navigator-container"},[n("div",{staticClass:"logo"}),t._v(" "),n("Sidebar")],1)]),t._v(" "),n("div",{staticClass:"main-container"},[n("Navbar"),t._v(" "),n("App-main")],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navbar"},[n("div",{staticClass:"info-container"},[n("a",{attrs:{href:"javascript:;"},on:{click:t.logout}},[n("i",{staticClass:"el-icon-upload2"}),t._v(" 退出")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{ref:"wrap",staticClass:"app-main"},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view",{key:t.key})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-container"},[n("el-form",{ref:"loginForm",staticClass:"card-box login-form",attrs:{autoComplete:"on",model:t.loginForm,rules:t.loginRules,"label-position":"left","label-width":"0px"}},[n("h3",{staticClass:"title"},[t._v("系统登录")]),t._v(" "),n("el-form-item",{attrs:{prop:"email"}},[n("span",{staticClass:"svg-container"},[n("i",{staticClass:"el-icon-menu"})]),t._v(" "),n("el-input",{attrs:{name:"email",type:"text",autoComplete:"on",placeholder:"邮箱"},model:{value:t.loginForm.email,callback:function(e){t.loginForm.email=e},expression:"loginForm.email"}})],1),t._v(" "),n("el-form-item",{attrs:{prop:"password"}},[n("span",{staticClass:"svg-container"},[n("i",{staticClass:"el-icon-setting"})]),t._v(" "),n("el-input",{attrs:{name:"password",type:"password",autoComplete:"on",placeholder:"密码"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.handleLogin(e)}},model:{value:t.loginForm.password,callback:function(e){t.loginForm.password=e},expression:"loginForm.password"}})],1),t._v(" "),n("el-form-item",[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:t.loading},nativeOn:{click:function(e){e.preventDefault(),t.handleLogin(e)}}},[t._v("\n          登录\n      ")])],1),t._v(" "),n("div",{staticClass:"tips"},[t._v("直接点登陆就可以登录成功...")]),t._v(" "),n("div",{staticClass:"tips"},[t._v("如果想试试验证，建议删除输入框字符试试...")])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("p",[t._v("This is dashboard page.")])},staticRenderFns:[]}}]),[69]);
//# sourceMappingURL=app.97dde418c1b141027d8e.js.map